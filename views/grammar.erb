<% #encoding: UTF-8	%>
<div class="container">
<form class="form-inline" action="grammar_filter" method="POST">
	<div class="form-group">
		<label for="selLevel">Level</label>
		<select class="form-control" name="selLevel" id="selLevel">
			<% @levels.each_pair do |level, count| %>
				<option value="<%= level %>"><%= "#{level} (#{count.to_s})" %> </option>
			<% end %>
		</select>
	</div>
	<div class="form-group">
		<label for="selGrammar">Grammar</label>
		<select class="form-control" name="selGrammar" id="selGrammar">
			<% @grammar_types.each_pair do |gt, v| %>
					<option value="<%= gt %>"><%= "#{gt} (#{v.to_s})" %> </option>
			<% end %>
		</select>
	</div>
	<button type="submit" class="btn btn-primary">Filter</button>
</form>
	</div>

<div class="container">
<table class='table'>
	<thead>
		<tr>
			<th>Level</th>
			<th>Pattern</th>
			<th>Eng</th>
			<th>Example</th>
			<th>Grammar</th>
			<th>Category</th>
		</tr>
	</thead>
	<% @grammar_points.each do |gp| %>
		<% level, pattern, link, eng, example, grammar, category = gp %>
		<tbody>
			<tr>
				<td><%= level %></td>
				<td>
					<a href='<%= link %>'>
						<%= pattern %>
					</a>
				</td>
				<td><%= eng %></td>
				<td><%= example %></td>
				<td><%= grammar %></td>
				<td><%= category %></td>
			</tr>
		</tbody>
	<% end %>
</table>
	</div>
